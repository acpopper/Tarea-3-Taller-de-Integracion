(function(e){function t(t){for(var o,c,i=t[0],s=t[1],l=t[2],d=0,b=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&b.push(r[c][0]),r[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(b.length)b.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},a=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/Tarea-3-Taller-de-Integracion/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1455:function(e,t,n){},"18b4":function(e,t,n){"use strict";n("87c7")},"28a3":function(e,t,n){"use strict";n("1455")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r={style:{display:"flex","align-items":"center"}},a=Object(o["d"])("div",{style:{"text-align":"center"}},[Object(o["d"])("div",{id:"mapContainer",class:"basemap"})],-1),c=Object(o["d"])("h2",{style:{width:"60px"}},null,-1),i={style:{"text-align":"center"}},s={style:{position:"relative"}},l={class:"chatt",id:"myDiv"},u=Object(o["d"])("ul",{id:"messages",style:{"word-wrap":"break-word"}},null,-1),d={class:"container",style:{display:"flex"}};function b(e,t,n,b,p,m){var f=Object(o["i"])("Login"),j=Object(o["i"])("Chat"),v=Object(o["i"])("BotonInfo"),O=Object(o["i"])("Vuelos");return Object(o["e"])(),Object(o["c"])(o["a"],null,[Object(o["d"])("div",r,[a,c,Object(o["m"])(Object(o["d"])("div",i,[Object(o["d"])(f,{onNameLogin:m.login},null,8,["onNameLogin"])],512),[[o["l"],!p.loggedIn]]),Object(o["m"])(Object(o["d"])("div",s,[Object(o["d"])("div",l,[u,Object(o["d"])(j,{onEnviarMensaje:m.enviarMensaje,style:{position:"relative",bottom:"0",right:"0"}},null,8,["onEnviarMensaje"])])],512),[[o["l"],p.loggedIn]])]),Object(o["d"])("div",null,[Object(o["d"])(v,{onToggleShowVuelos:m.mostrarVuelos},null,8,["onToggleShowVuelos"])]),Object(o["m"])(Object(o["d"])("div",d,[Object(o["d"])(O,{vuelos:p.vuelos},null,8,["vuelos"])],512),[[o["l"],p.showVuelos]])],64)}n("d81d"),n("ac1f"),n("5319"),n("b0c0"),n("4de4"),n("c740"),n("159b");function p(e,t,n,r,a,c){return Object(o["e"])(),Object(o["c"])("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("toggle-show-vuelos")}),class:"btn",style:{width:"99.5%"}}," Display Plane Info ")}var m={name:"Button",methods:{}};m.render=p;var f=m,j=Object(o["d"])("button",{type:"submit",class:"btn"},"Send",-1);function v(e,t,n,r,a,c){return Object(o["e"])(),Object(o["c"])("form",{id:"form",onSubmit:t[2]||(t[2]=Object(o["n"])((function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),["prevent"]))},[Object(o["m"])(Object(o["d"])("input",{id:"input",autocomplete:"off","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.message=e}),name:"message"},null,512),[[o["k"],a.message]]),j],32)}var O={name:"Chat",data:function(){return{message:""}},methods:{onSubmit:function(){this.$emit("enviar-mensaje",this.message),this.message=""}}};n("9894");O.render=v;var h=O;function g(e,t,n,r,a,c){var i=Object(o["i"])("Vuelo");return Object(o["e"])(!0),Object(o["c"])(o["a"],null,Object(o["h"])(n.vuelos,(function(e){return Object(o["e"])(),Object(o["c"])("div",{key:e.code},[Object(o["d"])(i,{vuelo:e},null,8,["vuelo"])])})),128)}var y=Object(o["o"])("data-v-3d38a487");Object(o["g"])("data-v-3d38a487");var w=Object(o["d"])("h5",null,"Click for passengers",-1);Object(o["f"])();var k=y((function(e,t,n,r,a,c){return Object(o["e"])(),Object(o["c"])("div",{onClick:t[1]||(t[1]=function(e){return c.mostrarPasajeros()}),class:"vuelo"},[Object(o["d"])("h3",null,Object(o["j"])(n.vuelo.airline),1),Object(o["d"])("p",null,Object(o["j"])(n.vuelo.plane)+": "+Object(o["j"])(n.vuelo.code),1),Object(o["d"])("p",null,"Seats: "+Object(o["j"])(n.vuelo.seats),1),Object(o["d"])("p",null,"From: "+Object(o["j"])(n.vuelo.origin),1),Object(o["d"])("p",null,"To: "+Object(o["j"])(n.vuelo.destination),1),w])})),I={name:"Vuelo",props:{vuelo:Object},methods:{mostrarPasajeros:function(){var e,t="";for(t+="Name | Age\n",e=0;e<this.vuelo.passengers.length;e++)t+=this.vuelo.passengers[e].name+" | "+this.vuelo.passengers[e].age+"\n";window.alert("*Passengers* \n"+t),t=""}}};n("28a3");I.render=k,I.__scopeId="data-v-3d38a487";var S=I,x={name:"Vuelos",props:{vuelos:Array},components:{Vuelo:S}};x.render=g;var T=x,C=Object(o["d"])("label",{for:"fname"},"Name: ",-1),V=Object(o["d"])("button",{type:"submit",class:"btn"},"Chat",-1);function M(e,t,n,r,a,c){return Object(o["e"])(),Object(o["c"])("form",{onSubmit:t[2]||(t[2]=Object(o["n"])((function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),["prevent"])),style:{display:"inline-block"}},[C,Object(o["m"])(Object(o["d"])("input",{type:"text",id:"fname",name:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.nombre=e})},null,512),[[o["k"],a.nombre]]),V],32)}var P={name:"Name",data:function(){return{nombre:""}},methods:{onSubmit:function(){this.$emit("name-login",this.nombre)}}};P.render=M;var L=P,N=n("e192"),H=n.n(N),E=n("8e27"),J=E("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),_={name:"App",components:{BotonInfo:f,Vuelos:T,Chat:h,Login:L},methods:{mostrarVuelos:function(){J.emit("FLIGHTS"),this.showVuelos=!0},enviarMensaje:function(e){J.emit("CHAT",{name:this.nombre,message:e})},login:function(e){this.loggedIn=!0,this.nombre=e},fuckyeah:function(e){var t=document.createElement("div");t.className="marker",t.style.backgroundColor="yellow",t.style.width="25px",t.style.height="25px";var n=[e.position[1],e.position[0]];new H.a.Marker(t).setLngLat(n).setPopup(new H.a.Popup({offset:25}).setHTML("<h3>"+e.code+"</h3>")).addTo(this.map)}},data:function(){return{vuelos:[],showVuelos:!1,isConnected:!1,loggedIn:!1,nombre:"",posiciones:[],accessToken:"pk.eyJ1IjoiYWNwb3BwZXIiLCJhIjoiY2twMHRjN2ptMHZqMjJ2cHJ4N3pyZ2EyZCJ9.IiAVirZxsxsvJFQIdGf3hg",map:Object}},mounted:function(){H.a.accessToken=this.accessToken,this.map=new H.a.Map({container:"mapContainer",style:"mapbox://styles/mapbox/streets-v11",center:[-70.640698,-33.445043],zoom:3})},created:function(){var e=this;J.on("FLIGHTS",(function(t){e.vuelos=t})),J.on("CHAT",(function(e){var t=document.getElementById("messages"),n=document.createElement("li"),o=new Date(e.date).toLocaleTimeString().replace(/([\d]+:[\d]{2})(:[\d]{2})(.*)/,"$1$3");n.textContent="("+o+")"+e.name+": "+e.message,t.appendChild(n);var r=document.getElementById("myDiv");r.scrollTop=r.scrollHeight,console.log(o)})),J.on("POSITION",(function(t){e.posiciones.unshift(t),e.posiciones=e.posiciones.filter((function(e,t,n){return n.findIndex((function(t){return t.code===e.code}))===t})),e.posiciones.forEach(e.fuckyeah)}))}};n("18b4");_.render=b;var A=_;Object(o["b"])(A).mount("#app")},"87c7":function(e,t,n){},9894:function(e,t,n){"use strict";n("affc")},affc:function(e,t,n){}});
//# sourceMappingURL=app.ec0a8381.js.map